YUI.add("aui-toggler-delegate",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isObject,s=n.isString,o=e.Array,u=e.config.doc,a=e.Toggler,f="cubic-bezier(0, 0.1, 0, 1.0)",l=e.getClassName,c=l("toggler","content","wrapper"),h=l("toggler","header","collapsed"),p=l("toggler","header","expanded"),d=e.Component.create({NAME:"toggler-delegate",ATTRS:{animated:{validator:r,value:!1,writeOnce:!0},closeAllOnExpand:{validator:r,value:!1},container:{setter:e.one,value:u},content:{validator:s},expanded:{validator:r,value:!0,writeOnce:!0},header:{validator:s},toggleEvent:{validator:s,value:"tap",writeOnce:!0},transition:{validator:i,value:{duration:.4,easing:f}}},EXTENDS:e.Base,prototype:{items:null,initializer:function(){var e=this;e.items=[],e.bindUI(),e.renderUI()},renderUI:function(){var e=this;e._createAll()},bindUI:function(){var t=this,n=t.get("container"),r=t.get("header"),i=t.get("toggleEvent");t._eventHandles=[n.delegate([i,"keydown"],e.bind("headerEventHandler",t),r),t.on("toggler:animatingChange",e.bind("_onAnimatingChange",t))]},destructor:function(){var t=this;o.each(t.items,function(e){e.destroy()}),t.items=null,(new e.EventHandle(t._eventHandles)).detach()},collapseAll:function(t){var n=this;n._createAll(),e.Array.invoke(n.items,"collapse",t)},_createAll:function(){var e=this,t=e.get("container"),n=e.get("closeAllOnExpand"),r=e.get("expanded"),i=e.get("header");t.all(i).each(function(t){var i=t.hasClass(h),s=t.hasClass(p);(n&&!i||r&&i||!r&&!s&&!i&&!t.getData("toggler"))&&e._create(t)})},expandAll:function(t){var n=this;n._createAll(),e.Array.invoke(n.items,"expand",t)},findContentNode:function(e){var t=this,n=t.get("content"),r=e.next(n)||e.one(n);if(!r){var i=e.next("."+c);i&&(r=i.get("firstChild"))}return r},headerEventHandler:function(e){var t=this,n=t.get("closeAllOnExpand"),r=t.get("content");if(t.animating)return!1;var i=e.currentTarget,s=i.getData("toggler")||t._create(i);if(a.headerEventHandler(e,s)&&n){var u=s.get("content").ancestor(r);o.each(t.items,function(e){if(e!==s&&e.get("expanded"))if(u){var t=e.get("content");t!==u&&u.contains(t)&&e.collapse()}else e.collapse()})}},_create:function(e){var t=this,n=t.get("animated"),r=t.get("expanded"),i=t.get("toggleEvent"),s=t.get("transition");e.hasClass(p)?r=!0:e.hasClass(h)&&(r=!1);var o=new a({animated:n,bindDOMEvents:!1,bubbleTargets:[t],content:t.findContentNode(e),expanded:r,header:e,toggleEvent:i,transition:s});return t.items.push(o),o},_onAnimatingChange:function(e){var t=this;t.animating=e.newVal}}});e.TogglerDelegate=d},"3.0.3-deprecated.65",{requires:["array-invoke","node-event-delegate","aui-toggler-base"]});
